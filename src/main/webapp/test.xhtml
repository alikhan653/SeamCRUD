<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
</h:head>
<h:body>

        <p:dataTable id="peopleTable"  value="#{peopleBean.peopleList}" var="people">
            <p:column headerText="name">
                <h:outputText value="#{people.name}" />
            </p:column>
            <p:column headerText="age">
                <h:outputText value="#{people.age}" />
            </p:column>
            <p:column headerText="email">
                <h:outputText value="#{people.email}" />
            </p:column>
            <p:column>
                <p:commandButton value="Delete" action="#{peopleBean.deletePeople(people)}" update="peopleTable" />
            </p:column>
        </p:dataTable>


        <h:form style="margin-top: 10px">
            <p:panelGrid columns="2" var="people">
                <p:outputLabel for="name" value="Name: " />
                <p:inputText id="name" required="true" />
                <p:outputLabel for="age" value="Age: " />
                <p:inputText id="age" required="true" />
                <p:outputLabel for="email" value="Email: " />
                <p:inputText id="email" required="true" />

                <p:commandButton value="Create People" action="#{peopleBean.addPeople(people)}" />
            </p:panelGrid>
        </h:form>

        <h:form style="margin-top: 10px">
            <p:panelGrid columns="2" var="people">
                <p:outputLabel for="name_u" value="Name: " />
                <p:inputText id="name_u" value="#{peopleBean.peopleList.get(0).name}" required="true" />
                <p:outputLabel for="age_u" value="Age: " />
                <p:inputText id="age_u" value="#{peopleBean.peopleList.get(0).age}" required="true" />
                <p:outputLabel for="email_u" value="Email: " />
                <p:inputText id="email_u" value="#{peopleBean.peopleList.get(0).email}" required="true" />

                <p:commandButton value="Update User" action="#{peopleBean.updatePeople(people)}"/>
            </p:panelGrid>
        </h:form>

</h:body>
</html>
